<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BINGOX - ç©å®¶åƒèˆ‡</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        body { 
            background: #0f0f0f; color: white; font-family: sans-serif; 
            display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0;
        }
        .header { margin: 20px; text-align: center; }
        .current-announcement { color: #f1c40f; font-size: 1.2rem; margin-bottom: 10px; height: 24px; }

        /* è³“æœå¡ç‰‡æ¨£å¼ */
        .bingo-board { 
            display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; 
            padding: 15px; background: rgba(255,255,255,0.05); border-radius: 15px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .cell {
            width: 60px; height: 60px; background: #222; border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
            font-size: 20px; font-weight: bold; cursor: pointer;
            transition: all 0.3s; border: 1px solid #333;
        }
        /* è¢«é»æ“Šå¾Œçš„ç™¼å…‰æ•ˆæœ */
        .cell.marked { 
            background: linear-gradient(145deg, #f39c12, #d35400); 
            color: black; border-color: #fff; transform: scale(0.95);
            box-shadow: 0 0 15px #f39c12;
        }
        /* ç•¶è©²æ•¸å­—ç¢ºå¯¦è¢«å¤§è¢å¹•æŠ½å‡ºæ™‚çš„æç¤º */
        .cell.verified { border: 2px solid #00ff00; }

        .info { margin-top: 20px; font-size: 14px; color: #666; }
    </style>
</head>
<body>

    <div class="header">
        <div id="msg" class="current-announcement">ç­‰å¾…é–‹ç...</div>
        <h2 style="margin:0; color:#eee;">æˆ‘çš„è³“æœå¡</h2>
    </div>

    <div id="board" class="bingo-board"></div>

    <div class="info">æç¤ºï¼šé»æ“Šæ•¸å­—ä¾†æ¨™è¨˜ï¼Œé€£æˆä¸€ç·šå³ç²å‹ï¼</div>

    <script>
        // 1. åˆå§‹åŒ– Firebase
       const firebaseConfig = {
  apiKey: "AIzaSyBB5QZq1lr27ULHh9Qbk_KJMDvUpglYrFs",
  authDomain: "bingo-83c8a.firebaseapp.com",
  databaseURL: "https://bingo-83c8a-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "bingo-83c8a",
  storageBucket: "bingo-83c8a.firebasestorage.app",
  messagingSenderId: "154760297789",
  appId: "1:154760297789:web:03f31621a38128fab01954",
  measurementId: "G-N1N1GZW6NG"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

        let myNumbers = [];
        let historyNumbers = [];

        // 2. ç”Ÿæˆéš¨æ©Ÿå¡ç‰‡ (1-75 ä¸­é¸ 25 å€‹)
        function createBoard() {
            const boardElement = document.getElementById('board');
            const pool = Array.from({length: 75}, (_, i) => i + 1);
            myNumbers = pool.sort(() => Math.random() - 0.5).slice(0, 25);

            myNumbers.forEach(num => {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.innerText = num;
                cell.id = `cell-${num}`;
                cell.onclick = () => {
                    cell.classList.toggle('marked');
                    checkWin();
                };
                boardElement.appendChild(cell);
            });
        }

        // 3. ç›£è½å¤§è¢å¹•é–‹çæƒ…æ³ï¼Œå¹«ç©å®¶å°ç
        db.ref('game/currentNum').on('value', (snapshot) => {
            const num = snapshot.val();
            if (num && num !== 0) {
                document.getElementById('msg').innerText = `ğŸ“¢ æœ€æ–°è™Ÿç¢¼ï¼š${num}`;
                // å¦‚æœæˆ‘çš„å¡ç‰‡æœ‰é€™å€‹è™Ÿç¢¼ï¼Œçµ¦å®ƒä¸€å€‹ç¶ è‰²é‚Šæ¡†æç¤º
                const myCell = document.getElementById(`cell-${num}`);
                if (myCell) {
                    myCell.classList.add('verified');
                    if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
                }
            }
        });

        // ç°¡æ˜“é€£ç·šæª¢æŸ¥ (ç¤ºæ„)
        function checkWin() {
            // é€™è£¡å¯ä»¥åŠ å…¥æ›´è¤‡é›œçš„ 5x5 é€£ç·šé‚è¼¯
            console.log("Checking line...");
        }

        createBoard();
    </script>
</body>
</html>